{% extends 'index.html' %} {% load static %} {% block content %}

<div style="display: flex; justify-content: center" class="header-menu">
  <ul class="nav text-light">
    <li class="nav-item">
      <a class="nav-link" id="id_url" href="{% url 'menu_pendientes' %}"
        >Semana anterior <i class="fas fa-arrow-circle-left"></i
      ></a>
    </li>
    <li class="nav-item">
      <a
        class="nav-link"
        id="id_url_10"
        href="{% url 'pendientes_next_week' 10 %}"
        >Lunes</a
      >
    </li>
    <li class="nav-item">
      <a
        class="nav-link"
        id="id_url_20"
        href="{% url 'pendientes_next_week' 20 %}"
        >Martes</a
      >
    </li>
    <li class="nav-item">
      <a
        class="nav-link"
        id="id_url_30"
        href="{% url 'pendientes_next_week' 30 %}"
        >Miercoles</a
      >
    </li>
    <li class="nav-item">
      <a
        class="nav-link"
        id="id_url_40"
        href="{% url 'pendientes_next_week' 40 %}"
        >Jueves</a
      >
    </li>
    <li class="nav-item">
      <a
        class="nav-link"
        id="id_url_50"
        href="{% url 'pendientes_next_week' 50 %}"
        >Viernes</a
      >
    </li>
  </ul>
  <div class="div-oculto" id="div_id-oculto">
    <input type="text" id="id-oculto" value="{{ id_dia }}" />
  </div>
</div>
<div class="table-id card mt-1" style="width: 90%; margin: auto">
  <div class="card-body">
    <table
      class="table table-sm table-hover"
      class="display nowrap"
      id="table_id"
    >
      <thead class="p-0">
        <tr
        class="text-center"
        style="background-color: #8ee7fa;"
      >
        <th scope="col">Pedido</th>
        <th>Fecha</th>
        <th>Hora</th>
        <th scope="col">Instalación</th>
        <th scope="col">Area trabajo</th>
        <th scope="col">Actividad</th>
        <th>Encargado</th>
      </tr>
    </thead>
    <tbody>
      {% for a in aneses %}

      <tr class="text-center tr">
        <th scope="row">{{ a.Pedido }}</th>
        <td>{{ a.fecha_vence }}</td>
        <td>{{ a.hora_vencimiento }}</td>
        <td>{{ a.Instalación }}</td>
        <td>{{ a.Area_Trabajo }}</td>
        <td>{{ a.Actividad }}</td>  
        <td>{{ a.encargado }}</td>
      </tr>

      {% endfor %}
    </tbody>
    </table>
  </div>
</div>
{% endblock content %} {% block js %}

<script src="{% static 'js/js_pendientes.js' %}"></script>
<script>
  $(document).ready(function () {
    $("#table_id").DataTable({
      order: [[1, "asc"]],
      dom: "Bfrtilp",

      lengthMenu: [
        [15, 30, 50, -1],
        ["15 filas", "30 filas", "50 filas", "Todos"],
      ],

      buttons: [
        {
          text: "Week",
          action: function (e, dt, node, config) {
            window.location.href = "/week/" + 2;
          },
        },
        {
          extend: "copyHtml5",
          exportOptions: {
            columns: [0, 1, 2, 3, 4, 5, 6],
          },
        },
        {
          extend: "csvHtml5",
          exportOptions: {
            columns: [0, 1, 2, 3, 4, 5, 6],
          },
        },
        {
          extend: "pdfHtml5",
          exportOptions: {
            columns: [0, 1, 2, 3, 4, 5, 6],
          },
        },
        "print",
        {
          extend: "excelHtml5",
          title: null,
          exportOptions: {
            columns: [0, 1, 2, 3, 4, 5, 6],
            format: {
              body: function(data, row, column, node) {
                  data = $('<p>' + data + '</p>').text();
                  return $.isNumeric(data.replace(',', '.')) ? data.replace(',', '.') : data;
              }
          }
          },
        },
      ],
    });
  });
</script>

{% endblock js %}
