{% extends "index.html" %}

{% block title %}
  Iniciar Sesión
{% endblock %}

{% block content %}
<section class="vh-100 d-flex flex-column"> {# Added d-flex flex-column to ensure footer is at bottom #}
  <div class="container-fluid h-100 flex-grow-1 d-flex align-items-center justify-content-center"> {# flex-grow-1 to take available space #}
    <div class="row d-flex justify-content-center align-items-center w-100"> {# Use w-100 for responsive width #}
      <h1 class="text-center text-secondary mb-4 display-5 fw-bold">Gestión de ANS Mejía - Apartadó</h1> {# Larger, bolder title #}

      <div class="col-md-9 col-lg-6 col-xl-5 mb-4 mb-lg-0"> {# Added margin-bottom for spacing on smaller screens #}
        <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp" class="img-fluid rounded shadow-sm" alt="Sample image"> {# Added rounded and shadow #}
      </div>

      <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
        <div class="card shadow-lg border-0 rounded-3 p-4"> {# Added card styling for a contained, professional look #}
          <div class="card-body">
            <h4 class="card-title text-center mb-4 fw-bold text-primary"><i class="fas fa-sign-in-alt me-2"></i> Acceso al Sistema</h4> {# Card title with icon #}

            {% if form.errors %}
              <div class="alert alert-danger alert-dismissible fade show mb-4" role="alert">
                <i class="fas fa-exclamation-circle me-2"></i> Usuario o contraseña no son correctos. Intente nuevamente.
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endif %}

            <form method="post" action="{% url 'login' %}">
              {% csrf_token %}

              {# Usuario input #}
              <div class="form-floating mb-4"> {# Using form-floating for modern input labels #}
                <input type="text" id="id_username" name="username" class="form-control" placeholder="nombre.usuario" required> {# Clearer placeholder, required #}
                <label for="id_username"><i class="fas fa-user me-2"></i> Usuario</label> {# Label with icon #}
              </div>

              {# Password input #}
              <div class="form-floating mb-4"> {# Using form-floating #}
                <input type="password" id="id_password" name="password" class="form-control" placeholder="Contraseña" required> {# Clearer placeholder, required #}
                <label for="id_password"><i class="fas fa-lock me-2"></i> Contraseña</label> {# Label with icon #}
              </div>

              <div class="d-grid mt-4"> {# d-grid for full-width button #}
                <button type="submit" class="btn btn-primary btn-lg">
                  <i class="fas fa-sign-in-alt me-2"></i> Iniciar Sesión
                </button>
              </div>
              <input type="hidden" name="next" value="{{ next }}" />
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  {# Footer #}
  <footer class="bg-primary text-white text-center py-3"> {# Standardized footer styling #}
    <div class="container">
      <small>Copyright © 2022. Todos los derechos reservados. Diseñado por Jorge Luis Rodriguez - Joluro...</small>
    </div>
  </footer>
</section>
{% endblock %}